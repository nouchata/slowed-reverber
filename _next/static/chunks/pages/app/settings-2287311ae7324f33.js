(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[877],{4768:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/settings",function(){return l(1694)}])},1694:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return g}});var s=l(828),n=l(5893),a=l(7294),o=l(6578),i=l(8476),r=function(e){return(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e.className,children:[(0,n.jsx)("g",{id:"checkbox-not-checked",style:{visibility:e.checked?"hidden":void 0},children:(0,n.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"})}),(0,n.jsxs)("g",{id:"checkbox-checked",style:{visibility:e.checked?void 0:"hidden"},children:[(0,n.jsx)("polyline",{points:"9 11 12 14 22 4"}),(0,n.jsx)("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]})]})},c=l(6531),d=l(1108),x=l(7299),u=function(){var e=(0,a.useContext)(d.R),t=e.appData,l=e.setAppData,s=(0,a.useContext)(x.B).soundsManager,o=t.router,i=(0,a.useState)(!1),r=i[0],u=i[1];return(0,a.useEffect)((function(){r&&(0,c.Lj)("sounds-manager-db",{blocked:function(){null===s||void 0===s||s.closeDatabase()}}).then((function(){l({customModal:null}),o.push("/")})).catch((function(e){l({customModal:null,error:{type:"normal",value:e.message}})}))}),[r,s]),r?(0,n.jsx)("div",{className:"bg-slate-800 rounded shadow p-3",children:(0,n.jsx)("img",{className:"h-8 animate-spin",alt:"Loading...",src:"data:image/svg+xml,%0A%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cline x1='12' y1='2' x2='12' y2='6'%3E%3C/line%3E%3Cline x1='12' y1='18' x2='12' y2='22'%3E%3C/line%3E%3Cline x1='4.93' y1='4.93' x2='7.76' y2='7.76'%3E%3C/line%3E%3Cline x1='16.24' y1='16.24' x2='19.07' y2='19.07'%3E%3C/line%3E%3Cline x1='2' y1='12' x2='6' y2='12'%3E%3C/line%3E%3Cline x1='18' y1='12' x2='22' y2='12'%3E%3C/line%3E%3Cline x1='4.93' y1='19.07' x2='7.76' y2='16.24'%3E%3C/line%3E%3Cline x1='16.24' y1='7.76' x2='19.07' y2='4.93'%3E%3C/line%3E%3C/svg%3E"})}):(0,n.jsxs)("div",{className:"bg-slate-800 max-w-lg w-5/6 rounded shadow text-white",children:[(0,n.jsx)("h6",{className:"py-4 px-2 text-center text-sm italic w-full",children:"All of the songs, drafts and assets will be deleted, are you sure you want to continue?"}),(0,n.jsxs)("div",{className:"h-10",children:[(0,n.jsx)("button",{className:"h-full w-1/2 text-red-900 font-bold",onClick:function(){u(!0)},children:"Delete"}),(0,n.jsx)("button",{className:"h-full w-1/2 font-bold",onClick:function(){l({customModal:null})},children:"Cancel"})]})]})},h=function(){var e=(0,a.useContext)(d.R),t=e.appData,l=e.setAppData,s=(0,a.useContext)(x.B).soundsManager,o=t.router,i=(0,a.useState)("downloading"),r=i[0],c=i[1];return(0,a.useEffect)((function(){fetch("".concat(o.basePath,"/assets/demo-song/blue-dream.mp3")).then((function(e){c("injecting"),e.blob().then((function(e){e.arrayBuffer().then((function(t){null===s||void 0===s||s.addFile(t,"Cheel - Blue Dream",e.type).then((function(){l({customModal:null,mediumModalText:"The demo song has been injected"})})).catch((function(e){l({customModal:null,error:{type:"normal",value:e.message}})}))})).catch((function(e){l({customModal:null,error:{type:"normal",value:e.message}})}))})).catch((function(e){l({customModal:null,error:{type:"normal",value:e.message}})}))})).catch((function(e){l({customModal:null,error:{type:"normal",value:e.message}})}))}),[]),(0,n.jsxs)("div",{className:"box-border bg-slate-800 p-5 max-w-lg w-5/6 flex flex-col gap-5 rounded shadow text-white",children:[(0,n.jsx)("img",{className:"h-8 animate-spin",alt:"Loading...",src:"data:image/svg+xml,%0A%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cline x1='12' y1='2' x2='12' y2='6'%3E%3C/line%3E%3Cline x1='12' y1='18' x2='12' y2='22'%3E%3C/line%3E%3Cline x1='4.93' y1='4.93' x2='7.76' y2='7.76'%3E%3C/line%3E%3Cline x1='16.24' y1='16.24' x2='19.07' y2='19.07'%3E%3C/line%3E%3Cline x1='2' y1='12' x2='6' y2='12'%3E%3C/line%3E%3Cline x1='18' y1='12' x2='22' y2='12'%3E%3C/line%3E%3Cline x1='4.93' y1='19.07' x2='7.76' y2='16.24'%3E%3C/line%3E%3Cline x1='16.24' y1='7.76' x2='19.07' y2='4.93'%3E%3C/line%3E%3C/svg%3E"}),(0,n.jsx)("p",{className:"text-center italic",children:"downloading"===r?"Reaching out the demo song...":"Injecting the demo song..."})]})};function f(e){return e<1e3?"".concat(e,"B"):e/1e3<1e3?"".concat(Math.round(e/1e3*10)/10,"kB"):"".concat(Math.round(e/1e6),"MB")}var m=function(e){var t=(0,a.useState)(void 0),l=t[0],s=t[1];return(0,a.useEffect)((function(){navigator.storage.estimate?navigator.storage.estimate().then((function(e){var t;if(e.quota&&e.usage){var l=null===(t=e.usageDetails)||void 0===t?void 0:t.indexedDB;s({raw:e,totalStorageFormat:f(e.quota),usageFormat:f(e.usage),indexedDbUsageFormat:l?f(l):void 0})}else s(null)})).catch((function(){return s(null)})):s(null)}),[]),(0,n.jsxs)("div",{className:"".concat(e.className," flex flex-col"),children:[(0,n.jsxs)("div",{className:"flex flex-nowrap items-end",children:[(0,n.jsx)("h5",{className:"text-gray-400 text-sm w-0 flex-1 overflow-hidden whitespace-nowrap text-ellipsis",children:"Storage used:"}),l&&(0,n.jsx)("h6",{className:"shrink-0 text-xs",children:"".concat(l.usageFormat,"/").concat(l.totalStorageFormat," used")})]}),(0,n.jsx)("div",{title:"Storage visualizer",className:"h-2 bg-gray-600 rounded-full overflow-hidden flex flex-nowrap",children:l&&(0,n.jsxs)(n.Fragment,{children:[!l.indexedDbUsageFormat&&(0,n.jsx)("div",{className:"flex items-center bg-zinc-700 shrink-0",style:{width:"".concat(Math.round(l.raw.usage/l.raw.quota*100),"%")}}),l.indexedDbUsageFormat&&(0,n.jsx)("div",{className:"flex items-center bg-blue-600 shrink-0",style:{width:"".concat(Math.round(l.raw.usageDetails.indexedDb/l.raw.quota*100),"%")}})]})}),l&&(0,n.jsxs)("div",{title:"Storage visualizer captions",className:"flex justify-center overflow-hidden px-2 gap-1",children:[!l.indexedDbUsageFormat&&(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("div",{className:"mr-2 h-2 w-2 bg-zinc-700 outline outline-1 outline-offset-2 outline-gray-600"}),(0,n.jsxs)("span",{className:"text-xs",children:["Used storage (",l.usageFormat,")"]})]}),l.indexedDbUsageFormat&&(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("div",{className:"mr-2 h-2 w-2 bg-blue-600 outline outline-1 outline-offset-2 outline-gray-600"}),(0,n.jsxs)("span",{className:"text-xs",children:["Songs + assets (",l.indexedDbUsageFormat,")"]})]})]}),null===l&&(0,n.jsx)("p",{className:"text-red-600 text-xs w-full text-center",children:"The data visualisation isn't available with your configuration"})]})},w=l(1446),p=function(){var e=(0,a.useContext)(d.R),t=e.appData,l=e.setAppData,o=(t.router,(0,s.Z)((0,w.Z)(),2)),c=o[0],x=o[1];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.h,{title:"Settings - Slowed Reverber",description:"Application settings"}),(0,n.jsxs)("div",{className:"w-full text-white select-none",children:[(0,n.jsxs)("div",{className:"flex flex-col gap-2 mb-5",children:[(0,n.jsx)("h3",{className:"text-lg font-bold px-3 overflow-hidden whitespace-nowrap text-ellipsis",children:"Storage"}),(0,n.jsx)(m,{className:"mx-10"}),(0,n.jsx)("button",{className:"h-16 flex flex-row flex-nowrap px-3 overflow-hidden",onClick:function(){l({customModal:(0,n.jsx)(h,{})})},children:(0,n.jsxs)("div",{className:"w-0 flex-1 flex flex-col flex-nowrap justify-center h-full text-left",children:[(0,n.jsx)("h5",{className:"font-normal text-base shrink-0 overflow-hidden whitespace-nowrap text-ellipsis",children:"Inject demo song"}),(0,n.jsx)("p",{className:"font-thin text-xs overflow-hidden text-ellipsis",children:"Try out with a royalty-free demo song !"})]})}),(0,n.jsx)("button",{className:"h-16 flex flex-row flex-nowrap px-3 overflow-hidden",onClick:function(){l({customModal:(0,n.jsx)(u,{})})},children:(0,n.jsxs)("div",{className:"w-0 flex-1 flex flex-col flex-nowrap justify-center h-full text-left",children:[(0,n.jsx)("h5",{className:"font-normal text-base shrink-0 overflow-hidden whitespace-nowrap text-ellipsis",children:"Delete songs"}),(0,n.jsx)("p",{className:"font-thin text-xs overflow-hidden text-ellipsis",children:"Will delete all of the songs, drafts (+ saved audio and visual assets)"})]})})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsx)("h3",{className:"text-lg font-bold px-3 overflow-hidden whitespace-nowrap text-ellipsis",children:"Theme"}),(0,n.jsxs)("button",{className:"h-16 flex flex-row flex-nowrap px-3 overflow-hidden",onClick:function(){x({showStaticCanvas:!c.showStaticCanvas})},children:[(0,n.jsxs)("div",{className:"w-0 flex-1 flex flex-col flex-nowrap justify-center h-full text-left",children:[(0,n.jsx)("h5",{className:"font-normal text-base shrink-0 overflow-hidden whitespace-nowrap text-ellipsis",children:"Static background"}),(0,n.jsx)("p",{className:"font-thin text-xs overflow-hidden text-ellipsis",children:"On wide display, a static background is displayed outside the borders of the app"})]}),(0,n.jsx)(r,{className:"box-border flex-[0_0_50px] h-full p-3",checked:c.showStaticCanvas})]}),(0,n.jsxs)("button",{className:"h-16 flex flex-row flex-nowrap px-3 overflow-hidden",onClick:function(){x({backgroundColor:"black"===c.backgroundColor?"slate":"black"})},children:[(0,n.jsxs)("div",{className:"w-0 flex-1 flex flex-col flex-nowrap justify-center h-full text-left",children:[(0,n.jsx)("h5",{className:"font-normal text-base shrink-0 overflow-hidden whitespace-nowrap text-ellipsis",children:"Background color"}),(0,n.jsx)("p",{className:"font-thin text-xs overflow-hidden text-ellipsis",children:"On wide display, if there is no static background"})]}),(0,n.jsx)("div",{className:"box-border flex-[0_0_50px] h-full flex justify-center items-center",title:"Black background",children:(0,n.jsx)("div",{className:"bg-black rounded-full w-4 h-4 ".concat("black"===c.backgroundColor?"outline outline-2 outline-offset-4 outline-white":"outline-dashed outline-2 outline-offset-4 outline-gray-600"),title:"Color display"})}),(0,n.jsx)("div",{className:"box-border flex-[0_0_50px] h-full flex justify-center items-center",title:"Purple background",children:(0,n.jsx)("div",{className:"bg-slate-900 rounded-full w-4 h-4 ".concat("slate"===c.backgroundColor?"outline outline-2 outline-offset-4 outline-white":"outline-dashed outline-2 outline-offset-4 outline-gray-600"),title:"Color display"})})]})]}),(0,n.jsxs)("footer",{className:"flex flex-col mx-auto mt-12 py-2 w-4/5 border-t-2 border-white text-center text-xs opacity-40",children:[(0,n.jsx)("h6",{className:"italic",children:"Slowed Reverber"}),(0,n.jsxs)("p",{children:["made by"," ",(0,n.jsx)("a",{className:"underline",href:"https://github.com/nouchata",target:"_blank",rel:"noreferrer",children:"@nouchata"})]})]})]})]})};p.getLayout=function(e){return(0,n.jsx)(o.Z,{tabName:"Settings",children:e})};var g=p}},function(e){e.O(0,[457,265,53,774,888,179],(function(){return t=4768,e(e.s=t);var t}));var t=e.O();_N_E=t}]);