"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[933],{1162:function(e,t,n){var r=n(5893);t.Z=function(e){return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",className:e.className,style:e.style,children:[(0,r.jsxs)("g",{id:"lowpass-svg-low",style:{visibility:e.percentage<50?"visible":"hidden"},children:[(0,r.jsx)("polygon",{fill:"currentColor",points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),(0,r.jsx)("path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"})]}),(0,r.jsxs)("g",{id:"lowpasss-svg-medium",style:{visibility:e.percentage>=50&&e.percentage<=90?"visible":"hidden"},children:[(0,r.jsx)("polygon",{fill:"currentColor",points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),(0,r.jsx)("path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07"})]}),(0,r.jsxs)("g",{id:"lowpass-svg-full",style:{visibility:e.percentage>90?"visible":"hidden"},children:[(0,r.jsx)("polygon",{fill:"currentColor",points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),(0,r.jsx)("line",{x1:"23",y1:"9",x2:"17",y2:"15"}),(0,r.jsx)("line",{x1:"17",y1:"9",x2:"23",y2:"15"})]})]})}},3082:function(e,t,n){var r=n(5893);t.Z=function(e){return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:e.className,style:e.style,children:[(0,r.jsx)("mask",{id:"svg-droplet-mask",children:(0,r.jsx)("rect",{fill:"#ffffff",x:"0",y:"".concat(100-e.percentage,"%"),width:"100%",height:"100%"})}),(0,r.jsx)("image",{className:"w-full h-full",xmlnsXlink:"http://www.w3.org/1999/xlink",xlinkHref:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='2.95 1.65 18.2 21.4' fill='%23".concat(e.color||"000000","' stroke='%23").concat(e.color||"000000","' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z'%3E%3C/path%3E%3C/svg%3E"),mask:"url(#svg-droplet-mask)"}),(0,r.jsx)("image",{className:"w-full h-full",xmlnsXlink:"http://www.w3.org/1999/xlink",xlinkHref:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='2.95 1.65 18.2 21.4' fill='none' stroke='%23".concat(e.color||"000000","' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z'%3E%3C/path%3E%3C/svg%3E")})]})}},1069:function(e,t,n){var r=n(5893);t.Z=function(e){return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e.className,style:e.style,children:[(0,r.jsxs)("g",{id:"speed-svg-none",style:{visibility:50===e.percentage?"visible":"hidden"},children:[(0,r.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,r.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),(0,r.jsxs)("g",{id:"speed-svg-medium",style:{visibility:50!==e.percentage&&e.percentage<=75&&e.percentage>=25?"visible":"hidden",transform:e.percentage<50?"scaleX(-1)":"",transformOrigin:"12px 12px"},children:[(0,r.jsx)("polygon",{points:"5 4 15 12 5 20 5 4"}),(0,r.jsx)("line",{x1:"19",y1:"5",x2:"19",y2:"19"})]}),(0,r.jsxs)("g",{id:"speed-svg-full",style:{visibility:50!==e.percentage&&(e.percentage<25||e.percentage>75)?"visible":"hidden",transform:e.percentage<50?"scaleX(-1)":"",transformOrigin:"12px 12px"},children:[(0,r.jsx)("polygon",{points:"13 19 22 12 13 5 13 19"}),(0,r.jsx)("polygon",{points:"2 19 11 12 2 5 2 19"})]})]})}},2927:function(e,t,n){var r=n(5893);t.Z=function(e){return(0,r.jsxs)("div",{className:"h-full w-full flex flex-col justify-center gap-4 items-center text-white ".concat(null===e||void 0===e?void 0:e.className),children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round",className:"flex-[0_0_40%] w-full",children:[(0,r.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,r.jsx)("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),(0,r.jsx)("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),(0,r.jsx)("strong",{className:"w-10/12 text-center",children:e.error})]})}},1802:function(e,t,n){n.d(t,{Z:function(){return d}});var r,s=n(7568),l=n(655),o=n(5893),i=n(7294),a=function(e){return(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",className:e.className,children:[(0,o.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),(0,o.jsx)("polyline",{points:"14 2 14 8 20 8"}),e.valideFile?(0,o.jsx)("polyline",{points:"17.239 10.812 9.11 18.948 6.672 16.51"}):(0,o.jsxs)("g",{id:"inject-new-file-plus",style:{transformOrigin:"50% 62.5%"},className:"".concat(e.animatePlusSign?"animate-inject-new-file-rotate":""),children:[(0,o.jsx)("line",{x1:"12",y1:"18",x2:"12",y2:"12"}),(0,o.jsx)("line",{x1:"9",y1:"15",x2:"15",y2:"15"})]})]})},u=n(1108);!function(e){e[e.WAITING_FOR_FILE=0]="WAITING_FOR_FILE",e[e.PROCESSING=1]="PROCESSING",e[e.DONE=2]="DONE"}(r||(r={}));var c=["Click or drag-and-drop a file here","Currently processing the file ...","Processing done"],d=function(e){var t=(0,i.useContext)(u.R),n=t.appData,d=t.setAppData,f=(0,i.useState)(e.isActive?r.WAITING_FOR_FILE:r.DONE),p=f[0],x=f[1],v=(0,i.useState)(void 0),h=v[0],g=v[1],m=(0,i.useRef)(null),b=(0,i.useRef)(null),w=(0,i.useRef)(0);return(0,i.useEffect)((function(){b.current.onclick=function(){m.current.click()}}),[]),(0,i.useEffect)((function(){if(void 0!==h)return h?e.fileTypes.find((function(e){return h.type.includes(e)}))?void(0,s.Z)((function(){return(0,l.__generator)(this,(function(t){switch(t.label){case 0:return[4,e.processCallback(h).then((function(){x(r.DONE),e.successCallback()})).catch((function(e){d({error:{type:"normal",value:e.message}}),x(r.WAITING_FOR_FILE),g(void 0)}))];case 1:return t.sent(),[2]}}))}))():(d({error:{type:"normal",value:"You need to provide an ".concat(e.fileTypes.join("/")," file")}}),x(r.WAITING_FOR_FILE),void g(void 0)):(d({error:{type:"normal",value:"You need to provide a file"}}),x(r.WAITING_FOR_FILE),void g(void 0))}),[h]),(0,i.useEffect)((function(){n.fileDragAndDrop&&!p?b.current.classList.add("outline-dashed"):b.current.classList.remove("outline-dashed")}),[n.fileDragAndDrop]),(0,o.jsxs)("div",{className:"relative text-white ".concat(null===e||void 0===e?void 0:e.className),children:[(0,o.jsxs)("div",{className:"h-full w-full min-h-[400px]",children:[(0,o.jsx)("input",{ref:m,type:"file",accept:"audio",className:"absolute hidden",disabled:!!p,onChange:function(e){if(!p){x(r.PROCESSING);var t=e.target.files;t?t[0]?g(t[0]):x(r.WAITING_FOR_FILE):g(null)}e.target.value=""}}),(0,o.jsxs)("button",{ref:b,className:"w-full h-full flex flex-col justify-center gap-4 items-center -outline-offset-2 outline-current outline-2",disabled:!!p,onDragEnter:function(){w.current||b.current.classList.add("text-app-primary-color"),w.current+=1},onDragLeave:function(){w.current-=1,w.current||b.current.classList.remove("text-app-primary-color")},onDrop:function(e){w.current-=1,b.current.classList.remove("text-app-primary-color"),p||(x(r.PROCESSING),g(e.dataTransfer.items[0]?e.dataTransfer.items[0].getAsFile():null))},children:[(0,o.jsx)(a,{animatePlusSign:p===r.PROCESSING,valideFile:p===r.DONE,className:"flex-[0_0_40%] w-full stroke-1"}),(0,o.jsx)("strong",{children:(null===n||void 0===n?void 0:n.fileDragAndDrop)&&!p?"Drop your file here":c[p]})]})]}),p===r.DONE&&(0,o.jsx)("div",{className:"absolute w-full h-full top-0 left-0 bg-app-element-disabled opacity-50"})]})}},3933:function(e,t,n){n.r(t),n.d(t,{default:function(){return D}});var r,s=n(7568),l=n(655),o=n(5893),i=n(7294),a=n(8476),u=n(1108),c=n(7299),d=n(2226),f=n(2927),p=n(1802),x=n(2939),v=n(3917),h=function(e){var t=(0,i.useContext)(c.B),n=t.currentSound,r=t.soundsManager,a=(0,i.useContext)(u.R).setAppData,d=(0,i.useRef)(null),f=(0,i.useRef)(null);return(0,i.useEffect)((function(){var t,o;d.current&&(d.current.value=(null===n||void 0===n||null===(t=n.soundInfoData)||void 0===t?void 0:t.name)||""),f.current&&(f.current.value=(null===n||void 0===n||null===(o=n.soundInfoData)||void 0===o?void 0:o.author)||"");e.setNextCallback&&e.isActive&&e.setNextCallback((function(){return(0,s.Z)((function(){var e,t,n;return(0,l.__generator)(this,(function(s){switch(s.label){case 0:return(null===(e=d.current)||void 0===e?void 0:e.value.length)?(n=!0,[4,r.updateCurrentSound({name:d.current.value,author:null===(t=f.current)||void 0===t?void 0:t.value}).catch((function(e){a({error:{type:"normal",value:e.message}}),n=!1}))]):(a({error:{type:"normal",value:"You must input a title"}}),[2,!1]);case 1:return s.sent(),[2,n]}}))}))}))}),[e.isActive]),(0,o.jsxs)("form",{className:"".concat(e.className," pb-20 p-2 flex flex-col justify-start text-white"),onSubmit:function(e){e.stopPropagation(),e.preventDefault()},children:[(0,o.jsxs)("div",{className:"flex-[0_0_80px] flex flex-col",children:[(0,o.jsxs)("label",{htmlFor:"editStringTitle",className:"text-sm select-none",children:["Title:"," ",(0,o.jsx)("span",{className:"text-red-600",title:"mandatory",children:"*"})]}),(0,o.jsx)("input",{ref:d,className:"box-border flex-1 m-1 px-4 bg-app-input-bg text-2xl font-bold rounded drop-shadow-md focus:outline-2 focus:outline-app-input-border focus:outline focus:outline-offset-1 invalid:outline-2 invalid:outline-red-800 invalid:outline invalid:outline-offset-1 disabled:bg-app-input-disabled placeholder:italic placeholder:font-semibold",type:"text",name:"title",id:"editStringTitle",required:!0,placeholder:"Song title",disabled:!e.isActive})]}),(0,o.jsxs)("div",{className:"flex-[0_0_80px] flex flex-col",children:[(0,o.jsx)("label",{htmlFor:"editStringAuthor",className:"text-sm select-none",children:"Author:"}),(0,o.jsx)("input",{ref:f,className:"box-border flex-1 m-1 px-4 bg-app-input-bg text-xl font-normal rounded drop-shadow-md focus:outline-2 focus:outline-app-input-border focus:outline focus:outline-offset-1 disabled:bg-app-input-disabled placeholder:italic placeholder:font-thin",type:"text",name:"author",id:"editStringAuthor",placeholder:"Optionnal author name",disabled:!e.isActive})]})]})},g=n(1162),m=n(3082),b=n(1069),w=n(2222),y=n(961),N=n(828),j=n(5835),C=function(e){var t=(0,i.useRef)(null),n=(0,i.useRef)(null),r=(0,i.useRef)(null),s=(0,i.useRef)(null),l=(0,i.useRef)({}),a=(0,i.useState)([]),u=a[0],c=a[1],d=(0,i.useRef)({}),f=(0,j.Z)(),p=(0,i.useState)(Number(e.startPercentage)),x=p[0],v=p[1],h=(0,i.useReducer)((function(e,t){var n,r;return void 0!==t&&e!==t&&(null===(n=l.current[t])||void 0===n?void 0:n.current)&&(l.current[t].current.style.strokeWidth="6"),void 0!==e&&e!==t&&(null===(r=l.current[e])||void 0===r?void 0:r.current)&&(l.current[e].current.style.strokeWidth=""),t}),void 0),g=h[0],m=h[1];return(0,i.useEffect)((function(){t.current.isDragBtnDown=!1,t.current.dragBtnRef=r,t.current.stateRef=d,t.current.bgLineRef=n,t.current.computeMouseData=function(e){var t=[-1,-1];return this.stateRef.current.containerBoundingClientRect&&this.stateRef.current.breakpointKeys?(t[0]=Math.min(Math.max(0,-100*(this.stateRef.current.containerBoundingClientRect.x-e.pageX)/this.stateRef.current.containerBoundingClientRect.width),100),t[1]=this.stateRef.current.breakpointKeys.reduce((function(e,n){return Math.abs(n-t[0])<Math.abs(e-t[0])?n:e})),t):t}.bind(t.current);var s=function(e){if(this.isDragBtnDown){var t=(0,N.Z)(this.computeMouseData(e),2),n=t[0],r=t[1];v(n),m(r)}}.bind(t.current),l=function(t){if(this.isDragBtnDown){this.dragBtnRef.current.classList.add("transition-all");var n=(0,N.Z)(this.computeMouseData(t),2),r=n[0],s=n[1],l=this.stateRef.current.arbitraryValue?r:s;v(l),this.bgLineRef.current.style.strokeWidth="",m(void 0),this.isDragBtnDown=!1,e.percentageCallback(l)}}.bind(t.current);return t.current.btnOnMouseMoveCallback=s,t.current.btnOnMouseUpCallback=l,document.addEventListener("mousemove",s),document.addEventListener("mouseup",l),function(){document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",l)}}),[]),(0,i.useEffect)((function(){var e;d.current&&(d.current.containerBoundingClientRect=null===(e=t.current)||void 0===e?void 0:e.getBoundingClientRect())}),[f.width,e.isActive]),(0,i.useEffect)((function(){d.current&&(d.current.arbitraryValue=!!e.arbitraryValue)}),[e.arbitraryValue]),(0,i.useEffect)((function(){var t=Object.keys(e.breakpoints).map((function(e){return Number(e)}));return l.current={},c(t.map((function(e){return l.current[e]=(0,i.createRef)(),(0,o.jsx)("line",{ref:l.current[e],className:"transition-all",strokeWidth:2,x1:"".concat(e,"%"),x2:"".concat(e,"%"),y1:"30%",y2:"70%"},e)}))),d.current&&(d.current.breakpointKeys=t),function(){d.current&&(d.current.breakpointKeys=void 0)}}),[e.breakpoints]),(0,i.useEffect)((function(){var t;if(s.current&&(!g||(null===(t=l.current[g])||void 0===t?void 0:t.current)))if(void 0!==g){s.current.innerText=e.breakpoints[g]||"";var n=0;g>85?n=s.current.offsetWidth:g<=85&&g>=25&&(n=s.current.offsetWidth/2),s.current.style.left="calc(".concat(g,"% - ").concat(n,"px)"),s.current.style.visibility||(s.current.style.visibility="visible")}else s.current.style.visibility=""}),[g]),(0,o.jsxs)("div",{ref:t,style:{color:e.color},className:"relative ".concat(e.className),onMouseEnter:function(){n.current&&(n.current.style.strokeWidth="3")},onMouseMove:function(e){if(t.current&&t.current.computeMouseData&&!t.current.isDragBtnDown){var n=(0,N.Z)(t.current.computeMouseData(e),2)[1];-1!==n&&m(n)}},onMouseLeave:function(){t.current&&!t.current.isDragBtnDown&&(n.current&&(n.current.style.strokeWidth=""),m(void 0))},onMouseDown:function(){e.isActive&&(t.current&&(t.current.isDragBtnDown=!0),r.current&&r.current.classList.remove("transition-all"))},onTouchStartCapture:function(){e.isActive&&(n.current&&(n.current.style.strokeWidth="3"),t.current&&(t.current.isDragBtnDown=!0),r.current&&r.current.classList.remove("transition-all"))},onTouchMoveCapture:function(e){t.current&&t.current.btnOnMouseMoveCallback&&t.current.btnOnMouseMoveCallback(e.targetTouches.item(0))},onTouchEndCapture:function(e){t.current&&t.current.btnOnMouseUpCallback&&t.current.btnOnMouseUpCallback(e.changedTouches.item(0))},children:[(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg","aria-labelledby":"title",className:"w-full overflow-visible",style:{height:e.innerHeight||"20px"},strokeLinejoin:"round",strokeLinecap:"round",stroke:"currentColor",children:[(0,o.jsx)("title",{children:"".concat(e.title," - Current value: ").concat(Math.floor(x),"%")}),(0,o.jsx)("line",{ref:n,className:"transition-all",strokeWidth:2.5,x1:"0.1%",x2:"99.9%",y1:"50%",y2:"50%"}),(0,o.jsx)("g",{id:"tweak-breakpoints",children:u})]}),(0,o.jsx)("div",{ref:r,id:"drag-button",className:"cursor-pointer box-border p-1 absolute top-[calc(50%-10px)] rounded-full origin-center -translate-x-1/2 scale-100",style:{height:e.innerHeight||"20px",width:e.innerHeight||"20px",backgroundColor:e.color,left:"".concat(x,"%")},children:(0,o.jsx)(e.SvgElement,{percentage:x,className:"w-full h-full",style:{color:e.svgColor||"#ffffff"}})}),(0,o.jsx)("div",{ref:s,className:"absolute whitespace-nowrap select-none top-[calc(50%-30px)] text-xs border-current border-[1px] px-1 rounded transition invisible"})]})},k=function(e){var t,n,r,a,d=(0,i.useContext)(c.B),f=d.currentSound,p=d.soundsManager,x=(0,i.useContext)(u.R).setAppData,v=(0,i.useState)(!1),h=v[0],N=v[1];return(0,i.useEffect)((function(){e.setNextCallback&&e.isActive&&e.setNextCallback((function(){return(0,s.Z)((function(){var e;return(0,l.__generator)(this,(function(t){switch(t.label){case 0:return e=!0,[4,p.undraftCurrentSong().catch((function(t){x({error:{type:"normal",value:t.message}}),e=!1}))];case 1:return t.sent(),[2,e]}}))}))}))}),[e.isActive]),(0,o.jsxs)("form",{className:"".concat(e.className," pb-20 p-2 flex gap-2 flex-col justify-start text-white select-none"),onSubmit:function(e){e.stopPropagation(),e.preventDefault()},children:[(0,o.jsxs)("div",{className:"relative flex-[0_0_40px] box-border flex flex-row flex-nowrap items-center bg-app-input-bg rounded drop-shadow-md hover:outline-2 hover:outline-app-input-border hover:outline hover:outline-offset-1",children:[(0,o.jsx)("button",{className:"flex-1 h-full text-sm hover:bg-white/5 ".concat(h?"font-extrabold":""),onClick:function(){N(!h)},children:"Arbitrary values"}),(0,o.jsx)("div",{className:"w-[1px] h-5/6 bg-app-modal-xl-background"}),(0,o.jsxs)("button",{className:"flex-1 flex flex-wrap justify-center content-center h-full text-sm hover:bg-white/5 ".concat((null===f||void 0===f||null===(t=f.soundInfoData)||void 0===t?void 0:t.dontChangePitch)?"font-extrabold":""),onClick:function(){var e;null===p||void 0===p||p.updateCurrentSound({dontChangePitch:!(null===f||void 0===f||null===(e=f.soundInfoData)||void 0===e?void 0:e.dontChangePitch)}).catch((function(e){return x({error:{type:"normal",value:e.message}})}))},children:[(0,o.jsx)("span",{className:"h-4 flex-[0_0_100%]",children:"Keep audio pitch"}),(0,o.jsx)("span",{className:"text-xs h-4 flex-[0_0_100%]",children:"(experimental)"})]}),!e.isActive&&(0,o.jsx)("div",{className:"absolute w-full h-full top-0 left-0 rounded bg-app-element-disabled opacity-50"})]}),(0,o.jsxs)("div",{className:"relative flex-[0_0_120px] box-border p-1 flex flex-col flex-nowrap bg-app-input-bg rounded drop-shadow-md hover:outline-2 hover:outline-app-input-border hover:outline hover:outline-offset-1",children:[(0,o.jsx)("h3",{className:"flex-[0_0_50px] flex justify-center items-center font-extrabold text-xl",children:"Speed"}),(0,o.jsx)("div",{className:"flex-1 bg-white/5 rounded flex justify-center items-center",children:(0,o.jsx)(C,{className:"py-5 flex-[0_0_90%]",isActive:e.isActive,SvgElement:b.Z,color:"#ffffff",svgColor:"#000000",title:"Speed",startPercentage:w.Z.valueConverter("speed",(null===f||void 0===f||null===(n=f.soundInfoData)||void 0===n?void 0:n.speedValue)||1,!1),arbitraryValue:h,breakpoints:y.Z.speed,percentageCallback:function(e){null===p||void 0===p||p.tweakDataCurrentSound("speed",e).catch((function(e){return x({error:{type:"normal",value:e.message}})}))}})}),!e.isActive&&(0,o.jsx)("div",{className:"absolute w-full h-full top-0 left-0 rounded bg-app-element-disabled opacity-50"})]}),(0,o.jsxs)("div",{className:"relative flex-[0_0_120px] box-border p-1 flex flex-col flex-nowrap bg-app-input-bg rounded drop-shadow-md hover:outline-2 hover:outline-app-input-border hover:outline hover:outline-offset-1",children:[(0,o.jsx)("h3",{className:"flex-[0_0_50px] flex justify-center items-center font-extrabold text-xl",children:"Reverb"}),(0,o.jsx)("div",{className:"flex-1 bg-white/5 rounded flex justify-center items-center",children:(0,o.jsx)(C,{className:"py-5 flex-[0_0_90%]",isActive:e.isActive,SvgElement:m.Z,color:"#ffffff",svgColor:"#000000",title:"Reverb",startPercentage:w.Z.valueConverter("reverb",(null===f||void 0===f||null===(r=f.soundInfoData)||void 0===r?void 0:r.reverbEffectValue)||0,!1),arbitraryValue:h,breakpoints:y.Z.reverb,percentageCallback:function(e){null===p||void 0===p||p.tweakDataCurrentSound("reverb",e).catch((function(e){return x({error:{type:"normal",value:e.message}})}))}})}),!e.isActive&&(0,o.jsx)("div",{className:"absolute w-full h-full top-0 left-0 rounded bg-app-element-disabled opacity-50"})]}),(0,o.jsxs)("div",{className:"relative flex-[0_0_120px] box-border p-1 flex flex-col flex-nowrap bg-app-input-bg rounded drop-shadow-md hover:outline-2 hover:outline-app-input-border hover:outline hover:outline-offset-1",children:[(0,o.jsx)("h3",{className:"flex-[0_0_50px] flex justify-center items-center font-extrabold text-xl",children:"Distance"}),(0,o.jsx)("div",{className:"flex-1 bg-white/5 rounded flex justify-center items-center",children:(0,o.jsx)(C,{className:"py-5 flex-[0_0_90%]",isActive:e.isActive,SvgElement:g.Z,color:"#ffffff",svgColor:"#000000",title:"Distance",startPercentage:w.Z.valueConverter("distance",(null===f||void 0===f||null===(a=f.soundInfoData)||void 0===a?void 0:a.lowKeyEffectValue)||50,!1),arbitraryValue:h,breakpoints:y.Z.distance,percentageCallback:function(e){null===p||void 0===p||p.tweakDataCurrentSound("distance",e).catch((function(e){return x({error:{type:"normal",value:e.message}})}))}})}),!e.isActive&&(0,o.jsx)("div",{className:"absolute w-full h-full top-0 left-0 rounded bg-app-element-disabled opacity-50"})]})]})};!function(e){e[e.INPUT_SONG=0]="INPUT_SONG",e[e.EDIT_STRINGS=1]="EDIT_STRINGS",e[e.EDIT_VALUES=2]="EDIT_VALUES"}(r||(r={}));var S=[0,-100,-200],E=["Add an audio file","Edit metadata","Tweak values"],_=[[!1,!1],[!1,!0],[!0,!0]],D=function(){var e=(0,i.useState)({state:d.b.LOADING}),t=e[0],n=e[1],g=(0,i.useState)(r.INPUT_SONG),m=g[0],b=g[1],w=(0,i.useState)()[0],y=(0,i.useState)(),N=y[0],j=y[1],C=(0,i.useState)(!1),D=C[0],R=C[1],I=(0,i.useContext)(c.B),A=I.isCurrentSoundReady,P=I.currentSound,B=I.soundsManager,O=(0,i.useContext)(u.R).appData.router;return(0,i.useEffect)((function(){if("addSong"===O.query.md)return null===B||void 0===B||B.resetCurrentSound(),void n({state:d.b.SUCCESS});(b(r.EDIT_STRINGS),O.query.s||O.query.t)?void 0!==(null===P||void 0===P?void 0:P.soundInfoKey)&&P.soundInfoKey===Number(O.query.s||O.query.t)?n({state:d.b.SUCCESS}):(null===B||void 0===B||B.resetCurrentSound(),null===B||void 0===B||B.injectInCurrentSong(O.query.s?"sounds-info":"sounds-temp-info",Number(O.query.s||O.query.t),!0,{visualSourceData:!0}).then((function(){n({state:d.b.SUCCESS})})).catch((function(e){n({state:d.b.ERROR,error:e.message})}))):n({state:d.b.ERROR,error:"No song id was given"})}),[]),t.state===d.b.LOADING?(0,o.jsx)(v.Z,{}):t.state===d.b.ERROR?(0,o.jsx)(f.Z,{error:t.error||""}):(0,o.jsxs)("div",{id:"add-song-modal-container",className:"relative w-full h-full box-border rounded-t-lg",children:[(0,o.jsx)(a.h,{title:"".concat("addSong"===O.query.md?"Add song":"Edit values"," - Slowed Reverber"),description:"Add a new song entry in the app"}),(0,o.jsxs)("div",{id:"add-song-modal-container-content",className:"rounded-t-lg flex flex-col flex-nowrap w-full h-full",children:[(0,o.jsx)(x.Z,{aButtonIsPressed:D,currentPaneState:m,lastPaneState:r.EDIT_VALUES,setAButtonIsPressed:R,nextBtnCallback:N,previousBtnCallback:w,setPaneState:b,buttonAvailability:_[m],title:E[m]}),(0,o.jsxs)("div",{className:"overflow-visible flex-1 w-full h-[calc(100%-50px)] flex flex-nowrap transition-transform",style:{transform:"translateX(".concat(S[m],"%)")},children:[(0,o.jsx)(p.Z,{className:"box-border flex-[0_0_100%] overflow-auto",successCallback:function(){return b(r.EDIT_STRINGS)},processCallback:function(){var e=(0,s.Z)((function(e){var t;return(0,l.__generator)(this,(function(n){switch(n.label){case 0:return t=B.addFile,[4,e.arrayBuffer()];case 1:return[4,t.apply(B,[n.sent(),e.name.replace(/\.[^.]*$/,""),e.type])];case 2:return n.sent(),[2]}}))}));return function(t){return e.apply(this,arguments)}}(),isActive:m===r.INPUT_SONG,fileTypes:["audio"]}),(0,o.jsx)(h,{setNextCallback:j,className:"box-border flex-[0_0_100%] overflow-auto",isActive:!D&&m===r.EDIT_STRINGS&&!!A}),(0,o.jsx)(k,{setNextCallback:j,className:"box-border flex-[0_0_100%] overflow-auto",isActive:!D&&m===r.EDIT_VALUES&&!!A},m)]})]})]})}},2939:function(e,t,n){var r=n(7568),s=n(655),l=n(5893),o=n(7294),i=n(1108);t.Z=function(e){var t=(0,o.useContext)(i.R).appData,n=t.router,a=t.oldRoutes;return(0,l.jsxs)("header",{className:"w-full flex-[0_0_50px] flex flex-nowrap select-none",children:[(0,l.jsx)("button",{className:"flex-[0_0_20%] text-white text-xs overflow-hidden ".concat(e.buttonAvailability[0]?"visible":"invisible"),disabled:e.aButtonIsPressed||!e.buttonAvailability[0],onClick:function(){e.aButtonIsPressed||(e.setAButtonIsPressed(!0),(0,r.Z)((function(){return(0,s.__generator)(this,(function(t){switch(t.label){case 0:return e.previousBtnCallback?[4,e.previousBtnCallback()]:[3,2];case 1:return t.sent()&&e.setPaneState(e.currentPaneState-1),[3,3];case 2:e.setPaneState(e.currentPaneState-1),t.label=3;case 3:return e.setAButtonIsPressed(!1),[2]}}))}))())},children:(0,l.jsxs)("span",{className:"inline-block",children:[(0,l.jsx)("span",{style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cline x1='19' y1='12' x2='5' y2='12'%3E%3C/line%3E%3Cpolyline points='12 19 5 12 12 5'%3E%3C/polyline%3E%3C/svg%3E\")"},className:"inline px-2 bg-no-repeat bg-left bg-contain"}),"Previous"]})}),(0,l.jsx)("h2",{className:"flex-1 flex items-center text-lg font-bold text-white overflow-hidden",children:(0,l.jsx)("span",{className:"overflow-hidden text-ellipsis whitespace-nowrap text-center w-full",children:e.title})}),(0,l.jsx)("button",{className:"flex-[0_0_20%] text-white text-xs overflow-hidden ".concat(e.buttonAvailability[1]?"visible":"invisible"),disabled:e.aButtonIsPressed||!e.buttonAvailability[1],onClick:function(){e.nextBtnCallback&&!e.aButtonIsPressed&&(e.setAButtonIsPressed(!0),(0,r.Z)((function(){return(0,s.__generator)(this,(function(t){switch(t.label){case 0:return[4,e.nextBtnCallback()];case 1:return t.sent()&&(void 0===e.lastPaneState||e.currentPaneState!==e.lastPaneState?e.setPaneState(e.currentPaneState+1):n.push(a.length?a[a.length-1].asPath:"/app/songs")),e.setAButtonIsPressed(!1),[2]}}))}))())},children:(0,l.jsxs)("span",{className:"inline-block",children:[void 0===e.lastPaneState||e.currentPaneState!==e.lastPaneState?"Next":"Save",(0,l.jsx)("span",{style:{backgroundImage:void 0===e.lastPaneState||e.currentPaneState!==e.lastPaneState?"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cline x1='5' y1='12' x2='19' y2='12'%3E%3C/line%3E%3Cpolyline points='12 5 19 12 12 19'%3E%3C/polyline%3E%3C/svg%3E\")":"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='20 6 9 17 4 12'%3E%3C/polyline%3E%3C/svg%3E\")"},className:"inline px-2 bg-no-repeat bg-right bg-contain"})]})})]})}},2226:function(e,t,n){var r;n.d(t,{b:function(){return r}}),function(e){e[e.LOADING=0]="LOADING",e[e.ERROR=1]="ERROR",e[e.SUCCESS=2]="SUCCESS"}(r||(r={}))},961:function(e,t){t.Z={speed:{0:"Cursed",30:"Slowed down",37.5:"Perfect slowing",45:"A bit under",50:"Normal",75:"Sped up",100:"Nightcore"},reverb:{0:"Normal",20:"A bit wet",40:"A bit more wet",60:"Wet",80:"Very wet",100:"Soaked"},distance:{0:"Near you",50:"A little bit muffled",75:"Muffled",85:"Under your pillow",95:"Next room",100:"Next flat"}}}}]);